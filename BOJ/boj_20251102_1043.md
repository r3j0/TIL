# 1043번: 거짓말
유니온 파인드를 이용해 풀이했다. 실행 과정은 다음과 같다.

1. 진실을 아는 사람들을 0번과 같은 그룹으로 연결한다. (union 함수에서 더 작은 번호를 parent 로 선정한다. 최저 번호인 0번을 기준으로 판단할 예정임.)
2. 한 파티에 참여한 사람들끼리 같은 그룹으로 연결한다.
3. 각 사람마다, find 를 통해 자신이 속해 있는 그룹의 최저 번호 parent 를 찾는다.
4. 파티에 한 명이라도 진실을 알고 있다면 (parent 가 0이라면) 참여가 불가능하다.
5. 참여가 가능한 파티의 개수를 세서 출력한다.

```py
# 1043 : 거짓말
import sys
input = sys.stdin.readline

n, m = map(int, input().rstrip().split())

parent = [i for i in range(n+1)]
def find(a):
    stack = []
    while a != parent[a]:
        stack.append(a)
        a = parent[a]
    end = a
    while stack:
        now = stack.pop()
        parent[now] = end
    return end

def union(a, b):
    a = find(a)
    b = find(b)
    if a > b: a, b = b, a
    parent[b] = a

true_person = list(map(int, input().rstrip().split()))[1:]
# 1. 진실을 아는 사람들을 0번과 같은 그룹으로 연결 (최저 번호인 0번을 기준으로 판단)
for p in true_person:
    union(0, p)

party = []

for _ in range(m):
    now_person = list(map(int, input().rstrip().split()))[1:]
    party.append(now_person)

    # 2. 한 파티에 참여한 사람들끼리 같은 그룹으로 연결
    for i in range(len(now_person) - 1):
        union(now_person[i], now_person[i+1])

# 3. 각 정점마다 속해 있는 그룹의 최저 번호 parent 찾기
for i in range(1, n+1):
    find(i)

ans = 0
for i in range(m):
    done = True
    # 4. 파티에 한 명이라도 진실을 알고 있다면 참여 불가
    for j in range(len(party[i])):
        if parent[party[i][j]] == 0:
            done = False
            break

    if done: ans += 1

print(ans)
```
