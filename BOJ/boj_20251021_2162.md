# 2162번: 선분 그룹
유니온 파인드 + 선분 교차로 풀이했다.

```py
# 2162 : 선분 그룹
import sys
input = sys.stdin.readline

def CCW(x1, y1, x2, y2, x3, y3):
    return ((x2-x1)*(y3-y2))-((x3-x2)*(y2-y1))

def compPoint(x1, y1, x2, y2):
    return x1 < x2 or (x1 == x2 and y1 <= y2)

def swapPoint(l):
    if compPoint(l[0], l[1], l[2], l[3]): return l[0], l[1], l[2], l[3]
    return l[2], l[3], l[0], l[1]

def lineSegment(l1, l2):
    x1, y1, x2, y2 = swapPoint(l1)
    x3, y3, x4, y4 = swapPoint(l2)

    c1 = CCW(x1, y1, x2, y2, x3, y3)
    c2 = CCW(x1, y1, x2, y2, x4, y4)
    c3 = CCW(x3, y3, x4, y4, x1, y1)
    c4 = CCW(x3, y3, x4, y4, x2, y2)

    r1 = c1 * c2
    r2 = c3 * c4

    if (c1 == c2 == c3 == c4 == 0):
        if compPoint(x1, y1, x4, y4) and compPoint(x3, y3, x2, y2): return 1
        return 0
    if r1 <= 0 and r2 <= 0: return 1
    return 0

n = int(input().rstrip())
lines = [list(map(int, input().rstrip().split())) for _ in range(n)]

parent = [i for i in range(n)]

def find(a):
    now = parent[a]
    stack = [a]
    while now != parent[now]:
        stack.append(now)
        now = parent[now]
    all_parent = now
    
    return all_parent

def union(a, b):
    a = find(a)
    b = find(b)

    if a < b: parent[b] = a
    else: parent[a] = b

# 유니온 파인드
for i in range(n-1):
    for j in range(1, n):
        if lineSegment(lines[i], lines[j]):
            union(i, j)

# 정답 구하기
for i in range(n):
    parent[i] = find(i)
narr = list(parent)
narr.sort()

max_group = narr[0]
max_group_num = narr.count(narr[0])
group_num = 1
for i in range(1, n):
    if narr[i] != narr[i-1]:
        group_num += 1
        now_group_num = narr.count(narr[i])
        if max_group_num < now_group_num:
            max_group = narr[i]
            max_group_num = now_group_num

print(group_num, max_group_num, sep='\n')
```
