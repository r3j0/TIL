# SCC / 2-SAT 문제 풀이
Date : 2024.07.16

## [3747. 완벽한 선거! ( PLATINUM 4 )](https://www.acmicpc.net/problem/3747)
```py
# 3747. 완벽한 선거!
import sys
input = sys.stdin.readline
sys.setrecursionlimit(110000)

order = []
while True:
  try:
    nowinput = input().rstrip()
    cnt = 0
    while nowinput == '' and cnt < 3:
      nowinput = input().rstrip()
      cnt += 1
    if nowinput == '': break
  except:
    break
  order.extend(list(map(int, nowinput.split())))

idx = 0
while idx < len(order):
  n = order[idx]
  idx += 1
  m = order[idx]
  idx += 1
  graph = [[] for _ in range(2*n+1)]
  rev_graph = [[] for _ in range(2*n+1)]
  for i in range(m):
    x1, x2 = order[idx+i*2], order[idx+1+i*2]
    # !x2 -> x1 / !x1 -> x2
    graph[-x2].append(x1)
    graph[-x1].append(x2)
    rev_graph[x1].append(-x2)
    rev_graph[x2].append(-x1)
  idx += m*2
  visited = [0 for _ in range(2*n+1)]
  finished = []
  def dfs(now):
    for next in graph[now]:
      if visited[next] == 0:
        visited[next] = 1
        dfs(next)
    finished.append(now)

  for i in range(-n, n+1):
    if i == 0: continue
    if visited[i] == 0:
      visited[i] = 1
      dfs(i)

  visited = [0 for _ in range(2*n+1)]
  parent = [0 for _ in range(2*n+1)]
  now_parent = 0
  scc = []
  now_scc = []
  def rev_dfs(now):
    parent[now] = now_parent
    for next in rev_graph[now]:
      if visited[next] == 0:
        visited[next] = 1
        now_scc.append(next)
        rev_dfs(next)

  while finished:
    go = finished.pop()
    if visited[go] == 0:
      visited[go] = 1
      now_parent += 1
      now_scc = [go]
      rev_dfs(go)
      scc.append(now_scc)

  res = 1
  for i in range(1, n+1):
    if parent[-i] == parent[i]:
      res = 0
      break

  print(res)
```
